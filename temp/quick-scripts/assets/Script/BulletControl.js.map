{"version":3,"sources":["BulletControl.js"],"names":["cc","Class","extends","Component","properties","GameManager","default","type","Node","NormalBulletSpeed","visible","GameSpeedThis","onLoad","find","BulletLifeTime","getComponent","scheduleOnce","TImeOut","Enlargex","Enlargey","start","node","destroy","update","dt","GameSpeed","xspeed","RigidBody","linearVelocity","x","yspeed","y","v2","onBeginContact","contact","selfCollider","otherCollider","onEndContact"],"mappings":"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","file":"BulletControl.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        GameManager: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        NormalBulletSpeed: {\r\n            default: null,\r\n            visible: false,\r\n        },\r\n        GameSpeedThis: {\r\n            default: null,\r\n            visible: false,\r\n        },\r\n\r\n        GameSpeedThis: {\r\n            default: null,\r\n            visible: false,\r\n        },\r\n        Enlargex: {\r\n            default: null,\r\n            visible: false,\r\n        },\r\n        Enlargey: {\r\n            default: null,\r\n            visible: false,\r\n        },\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n     onLoad :function() {\r\n        this.GameManager = cc.find(\"Canvas/GameManager\");\r\n        var BulletLifeTime = this.GameManager.getComponent('GameManager').BulletLifeTime;\r\n        this.scheduleOnce(function(){this.TImeOut();}, BulletLifeTime);\r\n        this.GameSpeedThis = 1;\r\n        this.Enlargex =false;\r\n        this.Enlargey =false;\r\n     },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    TImeOut(){\r\n        this.node.destroy();\r\n    },\r\n\r\n    update (dt) {\r\n        var GameSpeed = this.GameManager.getComponent('GameManager').GameSpeed;\r\n        if(this.GameSpeedThis ==1 && GameSpeed != 1){\r\n            var xspeed = this.node.getComponent(cc.RigidBody).linearVelocity.x;\r\n            var yspeed = this.node.getComponent(cc.RigidBody).linearVelocity.y;\r\n            this.node.getComponent(cc.RigidBody).linearVelocity = cc.v2(xspeed*GameSpeed,yspeed*GameSpeed);\r\n            this.GameSpeedThis = GameSpeed;\r\n        }\r\n        if(this.GameSpeedThis !=1 && GameSpeed == 1){\r\n            var xspeed = this.node.getComponent(cc.RigidBody).linearVelocity.x;\r\n            var yspeed = this.node.getComponent(cc.RigidBody).linearVelocity.y;\r\n            this.node.getComponent(cc.RigidBody).linearVelocity = cc.v2(xspeed/this.GameSpeedThis,yspeed/this.GameSpeedThis);\r\n            this.GameSpeedThis = 1;\r\n        }\r\n        if(this.GameSpeedThis !=1 && GameSpeed == 0){\r\n            this.node.getComponent(cc.RigidBody).linearVelocity = cc.v2(0,0);\r\n            this.GameSpeedThis = 1;\r\n        }\r\n        \r\n    },\r\n\r\n    onBeginContact: function (contact, selfCollider, otherCollider) {\r\n        var xspeed = this.node.getComponent(cc.RigidBody).linearVelocity.x;\r\n        if(xspeed<33&&xspeed>=0){\r\n            xspeed +=35;\r\n            this.Enlargex = true;\r\n        }\r\n        if(xspeed>-33&&xspeed<=0){\r\n            xspeed -=35;\r\n            this.Enlargex = true;\r\n        }\r\n\r\n        var yspeed = this.node.getComponent(cc.RigidBody).linearVelocity.y;\r\n\r\n        if(yspeed<33&&yspeed>=0){\r\n            yspeed +=35;\r\n            this.Enlargey = true;\r\n        }\r\n        if(yspeed>-33&&yspeed<=0){\r\n            yspeed -=35;\r\n            this.Enlargey = true;\r\n        }\r\n\r\n        this.node.getComponent(cc.RigidBody).linearVelocity = cc.v2(xspeed,yspeed);\r\n    },\r\n\r\n    onEndContact: function (contact, selfCollider, otherCollider) {\r\n        var xspeed = this.node.getComponent(cc.RigidBody).linearVelocity.x;\r\n        if(this.Enlargex){\r\n            if(xspeed>0)\r\n                xspeed-=35;\r\n            else\r\n                xspeed+=35;\r\n            this.Enlargex = false;\r\n        }\r\n        var yspeed = this.node.getComponent(cc.RigidBody).linearVelocity.y;\r\n\r\n        if(this.Enlargey){\r\n            if(yspeed>0)\r\n                yspeed-=35;\r\n            else\r\n                yspeed+=35;\r\n            this.Enlargey = false;\r\n        }\r\n\r\n        this.node.getComponent(cc.RigidBody).linearVelocity = cc.v2(xspeed,yspeed);\r\n    },\r\n});"]}